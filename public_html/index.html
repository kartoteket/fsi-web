<!doctype html>
<!--[if lt IE 7]>      <html class="lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html> <!--<![endif]-->
<head>
	<meta charset="UTF-8">
	<title>fsi</title>
	<meta name="description" content="">
  <meta name="viewport" content="width=device-width">

  <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-1.0.0-b1/leaflet.css" />

  <!-- Xbuild:css styles/vendor.css -->
  <!-- bower:css -->
  <!-- endbower -->
  <!-- Xendbuild -->

  <!-- build:css styles/main.css -->
  <link rel="stylesheet" href="styles/main.css">
  <!-- endbuild -->
  <link rel="shortcut icon" href="/favicon.ico">

</head>
<body>

  <div class="map-application">
    <div id="storyteller" class="overlay-wrap">
      <StoryTeller />
    </div>
    <div id="map" class="map">
  </div>

  <script id="baseTemplate" type="text/ractive">
    {{#if visible}}
<!--
        <div class="overlay overlay--{{slide.position}} overlay--{{slide.size}}" intro-outro="fade" style="top:{{slide.pos.top}}%; left:{{slide.pos.left}}%; bottom:{{slide.pos.bottom}}%; right:{{slide.pos.right}}%">
-->
        <div class="overlay overlay--{{slide.position}} overlay--{{slide.size}}" intro-outro="fade">

            <h1 class="overlay__header">{{slide.title}}</h1>
            <h2 class="overlay__subheader">{{slide.subTitle}}</h2>
            <div class="overlay__text">
              {{{slide.text}}}
            </div>
            {{#if chartEnabled}}
              <div class="chart"></div>
            {{/if}}
<!--
-->
            <a class="btn" on-click="goto:{{current-1}}">Prev</a>
            <a class="btn centered" on-click="goto:{{current+1}}">Next</a>
        </div>
    {{/if}}
  </script>


  <script src="http://cdn.leafletjs.com/leaflet-1.0.0-b1/leaflet.js"></script>

	<!-- build:js scripts/vendor.js -->
  <!-- bower:js -->
  <script src="bower_components/jquery/dist/jquery.js"></script>
  <script src="bower_components/d3/d3.js"></script>
  <script src="bower_components/queue-async/queue.js"></script>
  <script src="bower_components/ractive/ractive.js"></script>
  <script src="bower_components/ractive-transitions-fade/dist/ractive-transitions-fade.js"></script>
  <script src="bower_components/underscore/underscore.js"></script>
  <script src="bower_components/topojson/topojson.js"></script>
  <!-- endbower -->
  <!-- endbuild -->


<script>
      L.TopoJSON = L.GeoJSON.extend({
        addData: function(jsonData) {
          if (jsonData.type === 'Topology') {
            for (var key in jsonData.objects) {
              var geojson = topojson.feature(jsonData, jsonData.objects[key]);
              L.GeoJSON.prototype.addData.call(this, geojson);
            }
          }
          else {
            L.GeoJSON.prototype.addData.call(this, jsonData);
          }

          return this;
        }
      });
      // Copyright (c) 2013 Ryan Clark
</script>

	<!-- build:js scripts/main.js -->
  <script src="scripts/barchart.js"></script>
	<script src="scripts/main.js"></script>
	<!-- endbuild -->
</body>
</html>